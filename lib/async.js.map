{"version":3,"sources":["../src/async.js"],"names":["async","dispatch","restFunctions","currentFunction","Promise","resolve","reject","err","data","then","length"],"mappings":";;;;;kBAWwBA,K;AAXxB;;;;;;;;;;;AAWe,SAASA,KAAT,CAAeC,QAAf,EAAmE;AAAA,oCAAfC,aAAe;AAAfA,iBAAe;AAAA;;AAAA,MAA1CC,eAA0C,uEAAxB,IAAwB;;AAChF,SAAO,IAAIC,OAAJ,CACL,UAACC,OAAD,EAAUC,MAAV,EAAoB;AAClB,QAAI,CAACH,eAAL,EAAsB;AACpBG,aAAO,mBAAP;AACD,KAFD,MAEO;AACLL,eAASE,gBAAgB,UAACI,GAAD,EAAMC,IAAN,EAAc;AACrCD,cAAMD,OAAOC,GAAP,CAAN,GAAoBF,QAAQG,IAAR,CAApB;AACD,OAFQ,KAEH,EAFN;AAGD;AACF,GATI,EAUNC,IAVM,CAUD,UAACD,IAAD,EAAS;AACb,QAAIN,cAAcQ,MAAlB,EAA0B;AACxB,aAAOV,wBAAMC,QAAN,SAAmBC,aAAnB,EAAP;AACD,KAFD,MAEO;AACL,aAAOM,IAAP;AACD;AACF,GAhBM,CAAP;AAiBD","file":"async.js","sourcesContent":["/**\n *\n * @param  {[type]}    dispatch [description]\n * @param  {...[type]} args     [description]\n * @return {[type]}             [description]\n * @example\n * async(dispatch,\n *   cb=> actions.test(1, cb),\n *   actions.test2\n * ).then(()=> async(dispatch, actions.test3))\n */\nexport default function async(dispatch, currentFunction = null, ...restFunctions) {\n  return new Promise(\n    (resolve, reject)=> {\n      if (!currentFunction) {\n        reject(\"no chain function\");\n      } else {\n        dispatch(currentFunction((err, data)=> {\n          err ? reject(err) : resolve(data);\n        }) || {});\n      }\n    })\n  .then((data)=> {\n    if (restFunctions.length) {\n      return async(dispatch, ...restFunctions);\n    } else {\n      return data;\n    }\n  });\n}\n"]}